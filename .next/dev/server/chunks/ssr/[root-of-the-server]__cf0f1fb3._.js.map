{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///Users/baechan/project/test/link-sns/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = globalThis as unknown as {\n    prisma: PrismaClient | undefined\n}\n\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient()\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,6IAAY;AAEhE,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///Users/baechan/project/test/link-sns/components/post-card.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PostCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call PostCard() from the server but PostCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/post-card.tsx <module evaluation>\",\n    \"PostCard\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,WAAW,IAAA,wQAAuB,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,0DACA","ignoreList":[0]}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///Users/baechan/project/test/link-sns/components/post-card.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const PostCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call PostCard() from the server but PostCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/post-card.tsx\",\n    \"PostCard\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,WAAW,IAAA,wQAAuB,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,sCACA","ignoreList":[0]}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 127, "column": 0}, "map": {"version":3,"sources":["file:///Users/baechan/project/test/link-sns/lib/auth.ts"],"sourcesContent":["import { NextAuthOptions } from \"next-auth\"\nimport GoogleProvider from \"next-auth/providers/google\"\nimport CredentialsProvider from \"next-auth/providers/credentials\"\nimport { PrismaAdapter } from \"@next-auth/prisma-adapter\"\nimport { prisma } from \"@/lib/prisma\"\nimport bcrypt from \"bcryptjs\"\n\nexport const authOptions: NextAuthOptions = {\n    adapter: PrismaAdapter(prisma),\n    providers: [\n        GoogleProvider({\n            clientId: process.env.GOOGLE_CLIENT_ID || \"\",\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"\",\n        }),\n        CredentialsProvider({\n            name: \"Credentials\",\n            credentials: {\n                email: { label: \"Email\", type: \"email\" },\n                password: { label: \"Password\", type: \"password\" }\n            },\n            async authorize(credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null\n                }\n\n                const user = await prisma.user.findUnique({\n                    where: {\n                        email: credentials.email\n                    }\n                })\n\n                if (!user || !user.password) {\n                    return null\n                }\n\n                const isPasswordValid = await bcrypt.compare(\n                    credentials.password,\n                    user.password\n                )\n\n                if (!isPasswordValid) {\n                    return null\n                }\n\n                return {\n                    id: user.id,\n                    email: user.email,\n                    name: user.name,\n                    image: user.image,\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/login\",\n    },\n    callbacks: {\n        async session({ session, token }) {\n            if (token && session.user) {\n                session.user.id = token.sub as string\n            }\n            return session\n        }\n    }\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AACA;AACA;;;;;;AAEO,MAAM,cAA+B;IACxC,SAAS,IAAA,qLAAa,EAAC,uHAAM;IAC7B,WAAW;QACP,IAAA,8JAAc,EAAC;YACX,UAAU,QAAQ,GAAG,CAAC,gBAAgB,IAAI;YAC1C,cAAc,QAAQ,GAAG,CAAC,oBAAoB,IAAI;QACtD;QACA,IAAA,mKAAmB,EAAC;YAChB,MAAM;YACN,aAAa;gBACT,OAAO;oBAAE,OAAO;oBAAS,MAAM;gBAAQ;gBACvC,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YACpD;YACA,MAAM,WAAU,WAAW;gBACvB,IAAI,CAAC,aAAa,SAAS,CAAC,aAAa,UAAU;oBAC/C,OAAO;gBACX;gBAEA,MAAM,OAAO,MAAM,uHAAM,CAAC,IAAI,CAAC,UAAU,CAAC;oBACtC,OAAO;wBACH,OAAO,YAAY,KAAK;oBAC5B;gBACJ;gBAEA,IAAI,CAAC,QAAQ,CAAC,KAAK,QAAQ,EAAE;oBACzB,OAAO;gBACX;gBAEA,MAAM,kBAAkB,MAAM,4IAAM,CAAC,OAAO,CACxC,YAAY,QAAQ,EACpB,KAAK,QAAQ;gBAGjB,IAAI,CAAC,iBAAiB;oBAClB,OAAO;gBACX;gBAEA,OAAO;oBACH,IAAI,KAAK,EAAE;oBACX,OAAO,KAAK,KAAK;oBACjB,MAAM,KAAK,IAAI;oBACf,OAAO,KAAK,KAAK;gBACrB;YACJ;QACJ;KACH;IACD,SAAS;QACL,UAAU;IACd;IACA,OAAO;QACH,QAAQ;IACZ;IACA,WAAW;QACP,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC5B,IAAI,SAAS,QAAQ,IAAI,EAAE;gBACvB,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,GAAG;YAC/B;YACA,OAAO;QACX;IACJ;AACJ"}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///Users/baechan/project/test/link-sns/components/comment-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CommentForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call CommentForm() from the server but CommentForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/comment-form.tsx <module evaluation>\",\n    \"CommentForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,6DACA","ignoreList":[0]}},
    {"offset": {"line": 218, "column": 0}, "map": {"version":3,"sources":["file:///Users/baechan/project/test/link-sns/components/comment-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CommentForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call CommentForm() from the server but CommentForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/comment-form.tsx\",\n    \"CommentForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,yCACA","ignoreList":[0]}},
    {"offset": {"line": 232, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file:///Users/baechan/project/test/link-sns/app/post/%5Bid%5D/page.tsx"],"sourcesContent":["import { prisma } from \"@/lib/prisma\"\nimport { PostCard } from \"@/components/post-card\"\nimport { getServerSession } from \"next-auth\"\nimport { authOptions } from \"@/lib/auth\"\nimport { notFound } from \"next/navigation\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { formatDistanceToNow } from \"date-fns\"\nimport { CommentForm } from \"@/components/comment-form\"\n\nexport const dynamic = 'force-dynamic'\n\ninterface PostPageProps {\n    params: Promise<{\n        id: string\n    }>\n}\n\nexport default async function PostPage({ params }: PostPageProps) {\n    const { id } = await params\n    const session = await getServerSession(authOptions)\n\n    const post = await prisma.post.findUnique({\n        where: { id },\n        include: {\n            user: true,\n            _count: {\n                select: {\n                    comments: true,\n                    reactions: true,\n                }\n            },\n            bookmarks: {\n                where: {\n                    userId: session?.user?.id,\n                },\n            },\n            comments: {\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                include: {\n                    user: true\n                }\n            }\n        }\n    })\n\n    if (!post) {\n        notFound()\n    }\n\n    return (\n        <div className=\"max-w-2xl mx-auto space-y-8\">\n            <PostCard post={post} currentUserId={session?.user?.id} />\n\n            <div className=\"space-y-6\">\n                <h3 className=\"text-xl font-bold\">Comments ({post.comments.length})</h3>\n\n                <CommentForm postId={post.id} userImage={session?.user?.image} />\n\n                <div className=\"space-y-4\">\n                    {post.comments.map((comment) => (\n                        <CommentItem key={comment.id} comment={comment} currentUserId={session?.user?.id} />\n                    ))}\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AAGA;;;;;;;;AAEO,MAAM,UAAU;AAQR,eAAe,SAAS,EAAE,MAAM,EAAiB;IAC5D,MAAM,EAAE,EAAE,EAAE,GAAG,MAAM;IACrB,MAAM,UAAU,MAAM,IAAA,yJAAgB,EAAC,0HAAW;IAElD,MAAM,OAAO,MAAM,uHAAM,CAAC,IAAI,CAAC,UAAU,CAAC;QACtC,OAAO;YAAE;QAAG;QACZ,SAAS;YACL,MAAM;YACN,QAAQ;gBACJ,QAAQ;oBACJ,UAAU;oBACV,WAAW;gBACf;YACJ;YACA,WAAW;gBACP,OAAO;oBACH,QAAQ,SAAS,MAAM;gBAC3B;YACJ;YACA,UAAU;gBACN,SAAS;oBACL,WAAW;gBACf;gBACA,SAAS;oBACL,MAAM;gBACV;YACJ;QACJ;IACJ;IAEA,IAAI,CAAC,MAAM;QACP,IAAA,iMAAQ;IACZ;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC,uIAAQ;gBAAC,MAAM;gBAAM,eAAe,SAAS,MAAM;;;;;;0BAEpD,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;;4BAAoB;4BAAW,KAAK,QAAQ,CAAC,MAAM;4BAAC;;;;;;;kCAElE,8OAAC,6IAAW;wBAAC,QAAQ,KAAK,EAAE;wBAAE,WAAW,SAAS,MAAM;;;;;;kCAExD,8OAAC;wBAAI,WAAU;kCACV,KAAK,QAAQ,CAAC,GAAG,CAAC,CAAC,wBAChB,8OAAC;gCAA6B,SAAS;gCAAS,eAAe,SAAS,MAAM;+BAA5D,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;AAMpD"}}]
}